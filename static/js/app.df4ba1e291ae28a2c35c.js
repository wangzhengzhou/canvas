webpackJsonp([1],{"+7P2":function(t,e){},Ch58:function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("7+uW"),s=i("7t+N"),c=i.n(s),h={name:"Change",data:function(){return{colors:["red","black","blue","white","yellow","green","pink","purple","orange","Lime"],backgrounds:["red","black","blue","white","yellow","green","pink","purple","orange","Lime"],weights:["small","medium","big","bigplus"],isEraser:!1,text:"画笔",border:"3px solid red",icon:"icon-pen",isclear:!0,href:!0}},methods:{changecolor:function(t,e){c()("button").each(function(){this.style.border="none"}),c()(e)[0].path[0].style.border=this.border,this.$emit("change",t)},changeback:function(t,e){c()("button").each(function(){this.style.border="none"}),c()(e)[0].path[0].style.border=this.border,this.$emit("changeback",t)},changeweight:function(t){this.$emit("changeweight",t)},eraser:function(){"画笔"==c()(".eraser")[0].innerText?(c()(".eraser")[0].innerText="橡皮擦",this.icon="icon-eraser",this.isEraser=!0):(c()(".eraser")[0].innerText="画笔",this.isEraser=!1),this.$emit("eraser",this.isEraser)},clear:function(){this.$emit("clear",this.isclear)},save:function(){this.$emit("save",this.href)}}},o={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("ul",[i("li",{staticClass:"back"},[i("span",[t._v("画布颜色")]),t._l(t.backgrounds,function(e){return i("button",{style:{backgroundColor:e},on:{click:function(i){return t.changeback(e,i)}}})})],2),t._v(" "),i("li",{staticClass:"color"},[i("span",[t._v("画笔颜色")]),t._l(t.colors,function(e){return i("button",{style:{backgroundColor:e},on:{click:function(i){return t.changecolor(e,i)}}})})],2),t._v(" "),i("li",{staticClass:"weight"},[i("span",[t._v("粗细")]),t._l(t.weights,function(e){return i("button",{on:{click:function(i){return t.changeweight(e)}}},[i("div",{class:e})])})],2),t._v(" "),i("li",{staticClass:"eraser",class:t.icon,on:{click:t.eraser}},[t._v(t._s(this.text))]),t._v(" "),i("li",{staticClass:"icon-clear",on:{click:t.clear}}),t._v(" "),i("li",{staticClass:"icon-save",on:{click:t.save}})])])},staticRenderFns:[]};var r={name:"Canvas",data:function(){return{width:"",height:"",isMouse:!1,can:"",ctx:"",lastposi:{x:void 0,y:void 0},newposi:{x:void 0,y:void 0},x:"",x1:"",y:"",y1:"",color:"red",lineWidth:6,green:"green",isEraser:!1,istouch:!1}},components:{Change:i("VU/8")(h,o,!1,function(t){i("yZ0/")},"data-v-246b6963",null).exports},methods:{touchstart:function(t){this.x=t.touches[0].clientX,this.y=t.touches[0].clientY,this.isMouse=!0,this.startrender()},touchmove:function(t){this.x1=t.touches[0].clientX,this.y1=t.touches[0].clientY,this.render()},touchend:function(){this.isMouse=!1},mousedown:function(t){this.x=t.clientX,this.y=t.clientY,this.isMouse=!0,this.startrender()},mousemove:function(t){this.x1=t.clientX,this.y1=t.clientY,this.render()},mouseup:function(){this.isMouse=!1},line:function(t,e,i,n){this.ctx.beginPath(),this.ctx.moveTo(t,e),this.ctx.lineWidth=this.lineWidth,this.ctx.strokeStyle=this.color,this.ctx.lineTo(i,n),this.ctx.closePath(),this.ctx.stroke()},startrender:function(){this.can=this.$refs.canvas,this.ctx=this.can.getContext("2d"),this.isEraser?(this.ctx.fillStyle=this.green,this.ctx.fillRect(this.x-this.lineWidth/2,this.y-this.lineWidth/2,this.lineWidth,this.lineWidth)):this.lastposi={x:this.x,y:this.y}},render:function(){this.isMouse&&(this.isEraser?(this.ctx.fillStyle=this.green,this.ctx.fillRect(this.x1-this.lineWidth/2,this.y1-this.lineWidth/2,this.lineWidth,this.lineWidth)):(this.newposi={x:this.x1,y:this.y1},this.line(this.lastposi.x,this.lastposi.y,this.newposi.x,this.newposi.y),this.lastposi=this.newposi))},change:function(t){this.color=t},changeback:function(t){this.green=t,this.ctx.fillStyle=t,this.ctx.fillRect(0,0,parseInt(this.width),parseInt(this.height))},changeweight:function(t){switch(t){case"small":this.lineWidth=3;break;case"medium":this.lineWidth=6;break;case"big":this.lineWidth=11;break;case"bigplus":this.lineWidth=16}},eraser:function(t){this.isEraser=t},clear:function(t){t&&this.ctx.clearRect(0,0,parseInt(this.width),parseInt(this.height))},save:function(t){if(t){var e=this.can.toDataURL({format:"png",multiplier:4}),i=document.createElement("a");document.body.appendChild(i),i.href=e,i.download="myproject",i.click()}}},mounted:function(){this.can=this.$refs.canvas,this.ctx=this.can.getContext("2d"),this.ctx.fillStyle=this.green,this.ctx.fillRect(0,0,parseInt(this.width),parseInt(this.height))},beforeMount:function(){this.width=document.documentElement.clientWidth+"px",this.height=document.documentElement.clientHeight+"px";var t=this;window.onresize=function(){t.height=document.documentElement.clientHeight+"px",t.width=document.documentElement.clientWidth+"px"}}},a={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"hello"},[i("canvas",{ref:"canvas",attrs:{id:t.green,width:t.width,height:t.height},on:{mousedown:function(e){return t.mousedown(e)},mousemove:function(e){return t.mousemove(e)},mouseup:function(e){return t.mouseup(e)},touchstart:function(e){return t.touchstart(e)},touchmove:function(e){return t.touchmove(e)},touchend:t.touchend}}),t._v(" "),i("change",{staticClass:"color",on:{change:t.change,changeback:t.changeback,changeweight:t.changeweight,eraser:t.eraser,clear:t.clear,save:t.save}})],1)},staticRenderFns:[]};var l=i("VU/8")(r,a,!1,function(t){i("+7P2")},"data-v-e5b765ec",null).exports,u={name:"App",components:{Canvas:l}},d={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view",{attrs:{name:"main"}})],1)},staticRenderFns:[]};var f=i("VU/8")(u,d,!1,function(t){i("Ch58")},null,null).exports,m=i("/ocq");n.a.use(m.a);var p=new m.a({routes:[{path:"/",name:"main",components:{main:l}}]});n.a.config.productionTip=!1,new n.a({el:"#app",router:p,components:{App:f},template:"<App/>"})},"yZ0/":function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.df4ba1e291ae28a2c35c.js.map